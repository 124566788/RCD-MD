function _0x20d2(){const _0x2b0e1c=['1884876QhOIec','React','sendMessage','result','response','bind','exception','writeFile','match','toLowerCase','create','you\x20are\x20a\x20good\x20assistant.','return\x20(function()\x20','Something\x20went\x20wrong','gpt','trace','log','Message','utf-8','__proto__','remoteJid','hf/meta-llama/meta-llama-3-8b-instruct','system','961108Yixeiy','copy_code','/forget','from','apply','resolve','length','2423874AaNeCI','pathname','slice','dirname','body','prototype','status','stringify','info','1916GFVsCP','Copy\x20Your\x20Code','../mistral_history.json','push','assistant','console','cta_copy','user','constructor','trim','parse','InteractiveMessage','error','toString','POST','shift','table','2149143tyNxfg','Error\x20writing\x20chat\x20history\x20to\x20file:','{}.constructor(\x22return\x20this\x22)(\x20)','Error:\x20','includes','Please\x20give\x20me\x20a\x20prompt','https://matrixcoder.tech/api/ai','1180xLBRIC','key','9732704WBJnBx','>\x20©\x20Powered\x20By\x20RCD\x20MD','relayMessage','text-generation','715281BXIjza'];_0x20d2=function(){return _0x2b0e1c;};return _0x20d2();}(function(_0xc7cabb,_0x36f53c){function _0x1f1f2c(_0xdd565f,_0x238dba){return _0x1970(_0xdd565f-0x25f,_0x238dba);}const _0x7f6fcf=_0xc7cabb();while(!![]){try{const _0x38f226=-parseInt(_0x1f1f2c(0x3af,0x3ba))/0x1+-parseInt(_0x1f1f2c(0x398,0x37e))/0x2+parseInt(_0x1f1f2c(0x3d0,0x3e9))/0x3+parseInt(_0x1f1f2c(0x3bf,0x3a9))/0x4*(parseInt(_0x1f1f2c(0x391,0x3b0))/0x5)+parseInt(_0x1f1f2c(0x3b6,0x3cf))/0x6+parseInt(_0x1f1f2c(0x397,0x39f))/0x7+parseInt(_0x1f1f2c(0x393,0x374))/0x8;if(_0x38f226===_0x36f53c)break;else _0x7f6fcf['push'](_0x7f6fcf['shift']());}catch(_0x508e19){_0x7f6fcf['push'](_0x7f6fcf['shift']());}}}(_0x20d2,0x9e5b5));const _0xfac4e0=(function(){let _0x1f3c59=!![];return function(_0x453f45,_0x3f4305){const _0x12cf07=_0x1f3c59?function(){function _0x442795(_0x13fcca,_0x3c8549){return _0x1970(_0x13fcca- -0x2bb,_0x3c8549);}if(_0x3f4305){const _0x59db90=_0x3f4305[_0x442795(-0x167,-0x15d)](_0x453f45,arguments);return _0x3f4305=null,_0x59db90;}}:function(){};return _0x1f3c59=![],_0x12cf07;};}()),_0xbc72b0=_0xfac4e0(this,function(){let _0x3f39ae;try{const _0x20cfdd=Function(_0x1afd0c(-0xc3,-0xb6)+_0x1afd0c(-0xc1,-0xce)+');');_0x3f39ae=_0x20cfdd();}catch(_0x4290ca){_0x3f39ae=window;}const _0x9fca3b=_0x3f39ae[_0x1afd0c(-0xb9,-0x96)]=_0x3f39ae[_0x1afd0c(-0x97,-0x96)]||{},_0x2edad4=[_0x1afd0c(-0xcb,-0xb2),'warn',_0x1afd0c(-0xb3,-0x9c),_0x1afd0c(-0x88,-0x8f),_0x1afd0c(-0xb2,-0xbc),_0x1afd0c(-0x77,-0x8b),_0x1afd0c(-0xb4,-0xb3)];function _0x1afd0c(_0x180359,_0x44a80c){return _0x1970(_0x44a80c- -0x1fb,_0x180359);}for(let _0x2b4574=0x0;_0x2b4574<_0x2edad4[_0x1afd0c(-0xa3,-0xa5)];_0x2b4574++){const _0x25f237=_0xfac4e0[_0x1afd0c(-0xa8,-0x93)][_0x1afd0c(-0x7d,-0x9f)]['bind'](_0xfac4e0),_0x1112e5=_0x2edad4[_0x2b4574],_0x6101e4=_0x9fca3b[_0x1112e5]||_0x25f237;_0x25f237[_0x1afd0c(-0x8c,-0xaf)]=_0xfac4e0[_0x1afd0c(-0xad,-0xbd)](_0xfac4e0),_0x25f237[_0x1afd0c(-0xac,-0x8e)]=_0x6101e4['toString']['bind'](_0x6101e4),_0x9fca3b[_0x1112e5]=_0x25f237;}});_0xbc72b0();import{promises as _0x47a0e8}from'fs';import _0x28d7f5 from'path';import _0x20cbd3 from'node-fetch';import _0x4c4614 from'@whiskeysockets/baileys';const {generateWAMessageFromContent,proto}=_0x4c4614,__filename=new URL(import.meta['url'])[_0x5a4ea2(0x459,0x454)],__dirname=_0x28d7f5[_0x5a4ea2(0x45b,0x46a)](__filename),chatHistoryFile=_0x28d7f5[_0x5a4ea2(0x456,0x444)](__dirname,_0x5a4ea2(0x463,0x445)),mistralSystemPrompt=_0x5a4ea2(0x445,0x439);async function readChatHistoryFromFile(){function _0x2facc7(_0x3099b7,_0x563d89){return _0x5a4ea2(_0x3099b7- -0x591,_0x563d89);}try{const _0x494f4c=await _0x47a0e8['readFile'](chatHistoryFile,_0x2facc7(-0x145,-0x15e));return JSON[_0x2facc7(-0x126,-0x11a)](_0x494f4c);}catch(_0x7cf22c){return{};}}function _0x1970(_0x235bc9,_0x473db9){const _0x5b3bea=_0x20d2();return _0x1970=function(_0xbc72b0,_0xfac4e0){_0xbc72b0=_0xbc72b0-0x12c;let _0x2c9511=_0x5b3bea[_0xbc72b0];return _0x2c9511;},_0x1970(_0x235bc9,_0x473db9);}async function writeChatHistoryToFile(_0xfab79e){function _0xcb7880(_0x54b42e,_0xb696d5){return _0x5a4ea2(_0x54b42e- -0x4a4,_0xb696d5);}try{await _0x47a0e8[_0xcb7880(-0x63,-0x43)](chatHistoryFile,JSON['stringify'](_0xfab79e,null,0x2));}catch(_0x17abdc){console[_0xcb7880(-0x37,-0x59)](_0xcb7880(-0x77,-0x7e),_0x17abdc);}}async function updateChatHistory(_0xec618d,_0x563eab,_0x5cc70e){function _0x40911b(_0x43f039,_0x24628b){return _0x5a4ea2(_0x24628b- -0x586,_0x43f039);}!_0xec618d[_0x563eab]&&(_0xec618d[_0x563eab]=[]),_0xec618d[_0x563eab][_0x40911b(-0x10e,-0x122)](_0x5cc70e),_0xec618d[_0x563eab][_0x40911b(-0x10e,-0x12f)]>0x14&&_0xec618d[_0x563eab][_0x40911b(-0x12d,-0x116)](),await writeChatHistoryToFile(_0xec618d);}async function deleteChatHistory(_0x317c26,_0x109e93){delete _0x317c26[_0x109e93],await writeChatHistoryToFile(_0x317c26);}function _0x5a4ea2(_0x2196a3,_0x3cdbb0){return _0x1970(_0x2196a3-0x301,_0x3cdbb0);}const mistral=async(_0x475465,_0xe2bc59)=>{const _0x5ec0fa=await readChatHistoryFromFile(),_0x3f26e3=_0x475465[_0x4918ee(0xfd,0x11f)][_0x4918ee(0x118,0x106)]();if(_0x3f26e3===_0x4918ee(0x138,0x116)){await deleteChatHistory(_0x5ec0fa,_0x475465['sender']),await _0xe2bc59[_0x4918ee(0x11c,0xff)](_0x475465[_0x4918ee(0x12d,0x117)],{'text':'Conversation\x20deleted\x20successfully'},{'quoted':_0x475465});return;}function _0x4918ee(_0x19c6cd,_0xb0829d){return _0x5a4ea2(_0xb0829d- -0x33d,_0x19c6cd);}const _0x770b3b=_0x475465[_0x4918ee(0x13e,0x11f)]['match'](/^[\\/!#.]/),_0x513168=_0x770b3b?_0x770b3b[0x0]:'/',_0x12673c=_0x475465[_0x4918ee(0x12b,0x11f)]['startsWith'](_0x513168)?_0x475465[_0x4918ee(0x111,0x11f)][_0x4918ee(0x105,0x11d)](_0x513168[_0x4918ee(0x133,0x11a)])['split']('\x20')[0x0][_0x4918ee(0xef,0x106)]():'',_0x4c60f6=_0x475465[_0x4918ee(0x117,0x11f)][_0x4918ee(0x111,0x11d)](_0x513168[_0x4918ee(0x135,0x11a)]+_0x12673c['length'])[_0x4918ee(0x139,0x12d)]()[_0x4918ee(0x118,0x106)](),_0x14d6ef=['ai',_0x4918ee(0x12a,0x10b),'mistral'];if(_0x14d6ef[_0x4918ee(0x10b,0xf3)](_0x12673c)){if(!_0x4c60f6){await _0xe2bc59['sendMessage'](_0x475465[_0x4918ee(0x12c,0x117)],{'text':_0x4918ee(0xd3,0xf4)},{'quoted':_0x475465});return;}try{const _0x66c52e=_0x5ec0fa[_0x475465['sender']]||[],_0x5ba4e0=[{'role':_0x4918ee(0xf3,0x113),'content':mistralSystemPrompt},..._0x66c52e,{'role':_0x4918ee(0x10e,0x12b),'content':_0x4c60f6}];await _0x475465[_0x4918ee(0xe2,0xfe)]('⏳');const _0x2c363d=await _0x20cbd3(_0x4918ee(0xf8,0xf5),{'method':_0x4918ee(0x14f,0x132),'headers':{'Content-Type':'application/json'},'body':JSON[_0x4918ee(0x13e,0x122)]({'type':_0x4918ee(0xf2,0xfb),'model':_0x4918ee(0xf2,0x112),'messages':_0x5ba4e0})});if(!_0x2c363d['ok'])throw new Error('HTTP\x20error!\x20status:\x20'+_0x2c363d[_0x4918ee(0x121,0x121)]);const _0x5dbb59=await _0x2c363d['json']();await updateChatHistory(_0x5ec0fa,_0x475465['sender'],{'role':_0x4918ee(0x115,0x12b),'content':_0x4c60f6}),await updateChatHistory(_0x5ec0fa,_0x475465['sender'],{'role':_0x4918ee(0x13d,0x128),'content':_0x5dbb59[_0x4918ee(0x11b,0x100)][_0x4918ee(0x10a,0x101)]});const _0x2b16f8=_0x5dbb59[_0x4918ee(0xfb,0x100)]['response'],_0x214c2d=_0x2b16f8[_0x4918ee(0x125,0x105)](/```([\s\S]*?)```/);if(_0x214c2d){const _0x46e5ab=_0x214c2d[0x1];let _0x24ed86=generateWAMessageFromContent(_0x475465[_0x4918ee(0x12b,0x117)],{'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':proto[_0x4918ee(0xec,0x10e)]['InteractiveMessage'][_0x4918ee(0x11f,0x107)]({'body':proto[_0x4918ee(0x10f,0x10e)][_0x4918ee(0x121,0x12f)]['Body'][_0x4918ee(0x116,0x107)]({'text':_0x2b16f8}),'footer':proto[_0x4918ee(0x102,0x10e)]['InteractiveMessage']['Footer'][_0x4918ee(0x109,0x107)]({'text':_0x4918ee(0x101,0xf9)}),'header':proto[_0x4918ee(0x10f,0x10e)][_0x4918ee(0x124,0x12f)]['Header']['create']({'title':'','subtitle':'','hasMediaAttachment':![]}),'nativeFlowMessage':proto[_0x4918ee(0xfc,0x10e)][_0x4918ee(0x125,0x12f)]['NativeFlowMessage'][_0x4918ee(0x11a,0x107)]({'buttons':[{'name':_0x4918ee(0x109,0x12a),'buttonParamsJson':JSON[_0x4918ee(0x141,0x122)]({'display_text':_0x4918ee(0x11b,0x125),'id':_0x4918ee(0x10e,0x115),'copy_code':_0x46e5ab})}]})})}}},{});await _0xe2bc59[_0x4918ee(0xf4,0xfa)](_0x24ed86[_0x4918ee(0x109,0xf7)][_0x4918ee(0x10c,0x111)],_0x24ed86['message'],{'messageId':_0x24ed86[_0x4918ee(0xfe,0xf7)]['id']});}else await _0xe2bc59[_0x4918ee(0x113,0xff)](_0x475465['from'],{'text':_0x2b16f8},{'quoted':_0x475465});await _0x475465[_0x4918ee(0xf4,0xfe)]('✅');}catch(_0x3ca166){await _0xe2bc59[_0x4918ee(0xfd,0xff)](_0x475465[_0x4918ee(0x11e,0x117)],{'text':_0x4918ee(0xe9,0x10a)},{'quoted':_0x475465}),console['error'](_0x4918ee(0xfb,0xf2),_0x3ca166),await _0x475465[_0x4918ee(0xdb,0xfe)]('❌');}}};export default mistral;
